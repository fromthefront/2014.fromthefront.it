/*!
 * VERSION: 0.1.6
 * DATE: 2014-04-08
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e,r,t=/(\d|\.)+/g,i=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},l=function(e){return""===e||null==e||"none"===e?n.transparent:n[e]?n[e]:"number"==typeof e?[e>>16,e>>8&255,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,255&e]):e.match(t)||n.transparent},o=function(r,t,n){if(!e&&(e=window.ColorFilter||window.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o,s,a,u,f,c=r.filters||[],p=c.length;--p>-1;)if(c[p]instanceof e){s=c[p];break}if(s||(s=new e,c.push(s),r.filters=c),a=s.clone(),null!=t.tint)o=l(t.tint),u=null!=t.tintAmount?Number(t.tintAmount):1,a.redOffset=Number(o[0])*u,a.greenOffset=Number(o[1])*u,a.blueOffset=Number(o[2])*u,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-u;else for(f in t)"exposure"!==f&&"brightness"!==f&&(a[f]=Number(t[f]));for(null!=t.exposure?(a.redOffset=a.greenOffset=a.blueOffset=255*(Number(t.exposure)-1),a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1):null!=t.brightness&&(u=Number(t.brightness)-1,a.redOffset=a.greenOffset=a.blueOffset=u>0?255*u:0,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-Math.abs(u)),p=8;--p>-1;)f=i[p],s[f]!==a[f]&&n._addTween(s,f,s[f],a[f],"easel_colorFilter");if(n._overwriteProps.push("easel_colorFilter"),!r.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+r},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],a=.212671,u=.71516,f=.072169,c=function(e,r){if(!(e instanceof Array&&r instanceof Array))return r;var t,i,n=[],l=0,o=0;for(t=0;4>t;t++){for(i=0;5>i;i++)o=4===i?e[l+4]:0,n[l+i]=e[l]*r[i]+e[l+1]*r[i+5]+e[l+2]*r[i+10]+e[l+3]*r[i+15]+o;l+=5}return n},p=function(e,r){if(isNaN(r))return e;var t=1-r,i=t*a,n=t*u,l=t*f;return c([i+r,n,l,0,0,i,n+r,l,0,0,i,n,l+r,0,0,0,0,0,1,0],e)},h=function(e,r,t){isNaN(t)&&(t=1);var i=l(r),n=i[0]/255,o=i[1]/255,s=i[2]/255,p=1-t;return c([p+t*n*a,t*n*u,t*n*f,0,0,t*o*a,p+t*o*u,t*o*f,0,0,t*s*a,t*s*u,p+t*s*f,0,0,0,0,0,1,0],e)},g=function(e,r){if(isNaN(r))return e;r*=Math.PI/180;var t=Math.cos(r),i=Math.sin(r);return c([a+t*(1-a)+i*-a,u+t*-u+i*-u,f+t*-f+i*(1-f),0,0,a+t*-a+.143*i,u+t*(1-u)+.14*i,f+t*-f+i*-.283,0,0,a+t*-a+i*-(1-a),u+t*-u+i*u,f+t*(1-f)+i*f,0,0,0,0,0,1,0,0,0,0,0,1],e)},b=function(e,r){return isNaN(r)?e:(r+=.01,c([r,0,0,0,128*(1-r),0,r,0,0,128*(1-r),0,0,r,0,128*(1-r),0,0,0,1,0],e))},d=function(e,t,i){if(!r&&(r=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!r))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var n,l,o,a=e.filters||[],u=a.length;--u>-1;)if(a[u]instanceof r){o=a[u];break}for(o||(o=new r(s.slice()),a.push(o),e.filters=a),l=o.matrix,n=s.slice(),null!=t.colorize&&(n=h(n,t.colorize,Number(t.colorizeAmount))),null!=t.contrast&&(n=b(n,Number(t.contrast))),null!=t.hue&&(n=g(n,Number(t.hue))),null!=t.saturation&&(n=p(n,Number(t.saturation))),u=n.length;--u>-1;)n[u]!==l[u]&&i._addTween(l,u,l[u],n[u],"easel_colorMatrixFilter");if(i._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;i._matrix=l};window._gsDefine.plugin({propName:"easel",priority:-1,version:"0.1.6",API:2,init:function(e,r){this._target=e;var t,i,n,l;for(t in r)"colorFilter"===t||"tint"===t||"tintAmount"===t||"exposure"===t||"brightness"===t?n||(o(e,r.colorFilter||r,this),n=!0):"saturation"===t||"contrast"===t||"hue"===t||"colorize"===t||"colorizeAmount"===t?l||(d(e,r.colorMatrixFilter||r,this),l=!0):"frame"===t?(this._firstPT=i={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},i.c="number"==typeof r[t]?r[t]-i.s:"string"==typeof r[t]?parseFloat(r[t].split("=").join("")):0,i._next&&(i._next._prev=i)):null!=e[t]&&(this._firstPT=i={_next:this._firstPT,t:e,p:t,f:"function"==typeof e[t],n:t,pr:0,type:0},i.s=i.f?e[t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3)]():parseFloat(e[t]),i.c="number"==typeof r[t]?r[t]-i.s:"string"==typeof r[t]?parseFloat(r[t].split("=").join("")):0,i._next&&(i._next._prev=i));return!0},set:function(e){for(var r,t=this._firstPT,i=1e-6;t;)r=t.c*e+t.s,t.r?r=Math.round(r):i>r&&r>-i&&(r=0),t.f?t.t[t.p](r):t.t[t.p]=r,t=t._next;this._target.cacheID&&this._target.updateCache()}})}),window._gsDefine&&window._gsQueue.pop()();